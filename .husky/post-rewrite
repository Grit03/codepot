#!/bin/sh

# rebase ë˜ëŠ” amend í›„ package.json ë˜ëŠ” pnpm-lock.yaml ë³€ê²½ ê°ì§€

# $1ì€ rebaseì¸ì§€ amendì¸ì§€ êµ¬ë¶„
case "$1" in
  rebase)
    changed_files=$(git diff-tree -r --name-only --no-commit-id ORIG_HEAD HEAD)
    if echo "$changed_files" | grep -qE "package\.json|pnpm-lock\.yaml"; then
      echo "ğŸ“¦ ì˜ì¡´ì„± ë³€ê²½ ê°ì§€! pnpm install ì‹¤í–‰ ì¤‘..."
      pnpm install
    fi
    ;;
esac
